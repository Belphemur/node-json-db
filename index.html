<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>node-json-db</title>
	<meta name="description" content="Documentation for node-json-db">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">node-json-db</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>node-json-db</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p><a href="https://github.com/Belphemur/node-json-db/actions/workflows/nodejs.yml"><img src="https://github.com/Belphemur/node-json-db/actions/workflows/nodejs.yml/badge.svg" alt="NodeJs"></a><a href="https://codecov.io/gh/Belphemur/node-json-db"><img src="https://codecov.io/gh/Belphemur/node-json-db/branch/master/graph/badge.svg?token=J3Ppt4UCbY" alt="codecov"></a><a href="https://app.fossa.io/projects/git%2Bgithub.com%2FBelphemur%2Fnode-json-db?ref=badge_shield"><img src="https://app.fossa.io/api/projects/git%2Bgithub.com%2FBelphemur%2Fnode-json-db.svg?type=shield" alt="FOSSA Status"></a></p>
				<p><a href="https://nodei.co/npm/node-json-db/"><img src="https://nodei.co/npm/node-json-db.png?downloads=true&stars=true" alt="NPM"></a></p>
				<blockquote>
					<p>A simple &quot;database&quot; that use JSON file for Node.JS.</p>
				</blockquote>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<p>Add <code>node-json-db</code> to your existing Node.js project.</p>
				<pre><code class="language-bash"><span style="color: #000000">yarn add node-json-db</span>
</code></pre>
				<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
					<h2>Documentation</h2>
				</a>
				<p><a href="https://belphemur.github.io/node-json-db">Auto Generated</a></p>
				<a href="#inner-working" id="inner-working" style="color: inherit; text-decoration: none;">
					<h2>Inner Working</h2>
				</a>
				<a href="#data" id="data" style="color: inherit; text-decoration: none;">
					<h3>Data</h3>
				</a>
				<p>The module stores the data using JavaScript Object directly into a JSON file. You can easily traverse the data to reach
				directly the interesting property using the DataPath. The principle of DataPath is the same as XMLPath.</p>
				<a href="#example" id="example" style="color: inherit; text-decoration: none;">
					<h3>Example</h3>
				</a>
				<pre><code class="language-javascript"><span style="color: #000000">{</span>
<span style="color: #000000">    test: {</span>
<span style="color: #000000">        data1 : {</span>
<span style="color: #000000">            array : [</span><span style="color: #A31515">&#039;test&#039;</span><span style="color: #000000">,</span><span style="color: #A31515">&#039;array&#039;</span><span style="color: #000000">]</span>
<span style="color: #000000">        },</span>
<span style="color: #000000">        data2 : </span><span style="color: #098658">5</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>If you want to fetch the value of array, the DataPath is <strong>/test/data1/array</strong>
					To reach the value of data2 : <strong>/test/data2</strong>
					You can of course get also the full object <strong>test</strong> : <strong>/test</strong>
				Or even the root : <strong>/</strong></p>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h2>Usage</h2>
				</a>
				<p>See <a href="https://github.com/Belphemur/node-json-db/tree/master/test">test</a> for more usage details.</p>
				<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">JsonDB</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;node-json-db&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Config</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;node-json-db/dist/lib/JsonDBConfig&#039;</span>

<span style="color: #008000">// The first argument is the database filename. If no extension, &#039;.json&#039; is assumed and automatically added.</span>
<span style="color: #008000">// The second argument is used to tell the DB to save after each push</span>
<span style="color: #008000">// If you put false, you&#039;ll have to call the save() method.</span>
<span style="color: #008000">// The third argument is to ask JsonDB to save the database in an human readable format. (default false)</span>
<span style="color: #008000">// The last argument is the separator. By default it&#039;s slash (/)</span>
<span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">db</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">JsonDB</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Config</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;myDataBase&quot;</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">, </span><span style="color: #0000FF">false</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;/&#039;</span><span style="color: #000000">));</span>

<span style="color: #008000">// Pushing the data into the database</span>
<span style="color: #008000">// With the wanted DataPath</span>
<span style="color: #008000">// By default the push will override the old value</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/test1&quot;</span><span style="color: #000000">,</span><span style="color: #A31515">&quot;super test&quot;</span><span style="color: #000000">);</span>

<span style="color: #008000">// It also create automatically the hierarchy when pushing new data for a DataPath that doesn&#039;t exists</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/test2/my/test&quot;</span><span style="color: #000000">,</span><span style="color: #098658">5</span><span style="color: #000000">);</span>

<span style="color: #008000">// You can also push directly objects</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/test3&quot;</span><span style="color: #000000">, {</span><span style="color: #001080">test:</span><span style="color: #A31515">&quot;test&quot;</span><span style="color: #000000">, </span><span style="color: #001080">json:</span><span style="color: #000000"> {</span><span style="color: #001080">test:</span><span style="color: #000000">[</span><span style="color: #A31515">&quot;test&quot;</span><span style="color: #000000">]}});</span>

<span style="color: #008000">// If you don&#039;t want to override the data but to merge them</span>
<span style="color: #008000">// The merge is recursive and work with Object and Array.</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/test3&quot;</span><span style="color: #000000">, {</span>
<span style="color: #000000">    </span><span style="color: #001080">new:</span><span style="color: #A31515">&quot;cool&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">json:</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #001080">important :</span><span style="color: #000000"> </span><span style="color: #098658">5</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">}, </span><span style="color: #0000FF">false</span><span style="color: #000000">);</span>

<span style="color: #008000">/*</span>
<span style="color: #008000">This give you this results :</span>
<span style="color: #008000">{</span>
<span style="color: #008000">   &quot;test&quot;:&quot;test&quot;,</span>
<span style="color: #008000">   &quot;json&quot;:{</span>
<span style="color: #008000">      &quot;test&quot;:[</span>
<span style="color: #008000">         &quot;test&quot;</span>
<span style="color: #008000">      ],</span>
<span style="color: #008000">      &quot;important&quot;:5</span>
<span style="color: #008000">   },</span>
<span style="color: #008000">   &quot;new&quot;:&quot;cool&quot;</span>
<span style="color: #008000">}</span>
<span style="color: #008000">*/</span>

<span style="color: #008000">// You can&#039;t merge primitive.</span>
<span style="color: #008000">// If you do this:</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/test2/my/test/&quot;</span><span style="color: #000000">,</span><span style="color: #098658">10</span><span style="color: #000000">,</span><span style="color: #0000FF">false</span><span style="color: #000000">);</span>

<span style="color: #008000">// The data will be overriden</span>

<span style="color: #008000">// Get the data from the root</span>
<span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">data</span><span style="color: #000000"> = </span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">getData</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/&quot;</span><span style="color: #000000">);</span>

<span style="color: #008000">// From a particular DataPath</span>
<span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">data</span><span style="color: #000000"> = </span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">getData</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/test1&quot;</span><span style="color: #000000">);</span>

<span style="color: #008000">// If you try to get some data from a DataPath that doesn&#039;t exists</span>
<span style="color: #008000">// You&#039;ll get an Error</span>
<span style="color: #AF00DB">try</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">data</span><span style="color: #000000"> = </span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">getData</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/test1/test/dont/work&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">} </span><span style="color: #AF00DB">catch</span><span style="color: #000000">(</span><span style="color: #001080">error</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #008000">// The error will tell you where the DataPath stopped. In this case test1</span>
<span style="color: #000000">    </span><span style="color: #008000">// Since /test1/test does&#039;t exist.</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">error</span><span style="color: #000000">(</span><span style="color: #001080">error</span><span style="color: #000000">);</span>
<span style="color: #000000">};</span>

<span style="color: #008000">// Deleting data</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">delete</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/test1&quot;</span><span style="color: #000000">);</span>

<span style="color: #008000">// Save the data (useful if you disable the saveOnPush)</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">save</span><span style="color: #000000">();</span>

<span style="color: #008000">// In case you have a exterior change to the databse file and want to reload it</span>
<span style="color: #008000">// use this method</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">reload</span><span style="color: #000000">();</span>

</code></pre>
				<a href="#typescript-support" id="typescript-support" style="color: inherit; text-decoration: none;">
					<h3>TypeScript Support</h3>
				</a>
				<a href="#v080" id="v080" style="color: inherit; text-decoration: none;">
					<h4>v0.8.0</h4>
				</a>
				<p>As of v0.8.0, <a href="https://www.typescriptlang.org">TypeScript</a> types are
				included in this package, so using <code>@types/node-json-db</code> is no longer required.</p>
				<a href="#v100" id="v100" style="color: inherit; text-decoration: none;">
					<h4>v1.0.0</h4>
				</a>
				<p>JsonDB isn&#39;t exported as default any more. You&#39;ll need to change how you load the library.</p>
				<p>This change is done to follow the right way to import module.</p>
				<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">JsonDB</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;node-json-db&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Config</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;node-json-db/dist/lib/JsonDBConfig&#039;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">db</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">JsonDB</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Config</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;myDataBase&quot;</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">, </span><span style="color: #0000FF">false</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;/&#039;</span><span style="color: #000000">));</span>
</code></pre>
				<a href="#typing" id="typing" style="color: inherit; text-decoration: none;">
					<h4>Typing</h4>
				</a>
				<p>With TypeScript, you have access to a new method: getObject<T> that will take care of typing your return object.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">JsonDB</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;node-json-db&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Config</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;node-json-db/dist/lib/JsonDBConfig&#039;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">db</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">JsonDB</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Config</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;myDataBase&quot;</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">, </span><span style="color: #0000FF">false</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;/&#039;</span><span style="color: #000000">));</span>

<span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">FooBar</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">Hello</span><span style="color: #000000">: </span><span style="color: #267F99">string</span>
<span style="color: #000000">    </span><span style="color: #001080">World</span><span style="color: #000000">: </span><span style="color: #267F99">number</span>
<span style="color: #000000">}</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">object</span><span style="color: #000000"> = {</span><span style="color: #001080">Hello:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;World&quot;</span><span style="color: #000000">, </span><span style="color: #001080">World:</span><span style="color: #000000"> </span><span style="color: #098658">5</span><span style="color: #000000">} </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #267F99">FooBar</span><span style="color: #000000">;</span>

<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/test&quot;</span><span style="color: #000000">, </span><span style="color: #001080">object</span><span style="color: #000000">);</span>

<span style="color: #008000">//Will be typed as FooBar in your IDE</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">result</span><span style="color: #000000"> = </span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">getObject</span><span style="color: #000000">&lt;</span><span style="color: #267F99">FooBar</span><span style="color: #000000">&gt;(</span><span style="color: #A31515">&quot;/test&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#array-support" id="array-support" style="color: inherit; text-decoration: none;">
					<h3>Array Support</h3>
				</a>
				<p>You can also access the information stored into arrays and manipulate them.</p>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">JsonDB</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;node-json-db&#039;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">import</span><span style="color: #000000"> { </span><span style="color: #001080">Config</span><span style="color: #000000"> } </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;node-json-db/dist/lib/JsonDBConfig&#039;</span>

<span style="color: #008000">// The first argument is the database filename. If no extension, &#039;.json&#039; is assumed and automatically added.</span>
<span style="color: #008000">// The second argument is used to tell the DB to save after each push</span>
<span style="color: #008000">// If you put false, you&#039;ll have to call the save() method.</span>
<span style="color: #008000">// The third argument is to ask JsonDB to save the database in an human readable format. (default false)</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">db</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">JsonDB</span><span style="color: #000000">(</span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #795E26">Config</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;myDataBase&quot;</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">, </span><span style="color: #0000FF">false</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;/&#039;</span><span style="color: #000000">));</span>

<span style="color: #008000">// This will create an array &#039;myarray&#039; with the object &#039;{obj:&#039;test&#039;}&#039; at index 0</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/myarray[0]&quot;</span><span style="color: #000000">, {</span>
<span style="color: #000000">    </span><span style="color: #001080">obj:</span><span style="color: #A31515">&#039;test&#039;</span>
<span style="color: #000000">}, </span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>

<span style="color: #008000">// You can retrieve a property of an object included in an array</span>
<span style="color: #008000">// testString = &#039;test&#039;;</span>
<span style="color: #0000FF">var</span><span style="color: #000000"> </span><span style="color: #001080">testString</span><span style="color: #000000"> = </span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">getData</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/myarray[0]/obj&quot;</span><span style="color: #000000">);</span>

<span style="color: #008000">// Doing this will delete the object stored at the index 0 of the array.</span>
<span style="color: #008000">// Keep in mind this won&#039;t delete the array even if it&#039;s empty.</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">delete</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/myarray[0]&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#appending-in-array" id="appending-in-array" style="color: inherit; text-decoration: none;">
					<h4>Appending in Array</h4>
				</a>
				<pre><code class="language-javascript"><span style="color: #008000">// You can also easily append new item to an existing array</span>
<span style="color: #008000">// This set the next index with {obj: &#039;test&#039;}</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/myarray[]&quot;</span><span style="color: #000000">, {</span>
<span style="color: #000000">    </span><span style="color: #001080">obj:</span><span style="color: #A31515">&#039;test&#039;</span>
<span style="color: #000000">}, </span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>


<span style="color: #008000">// The append feature can be used in conjuction with properties</span>
<span style="color: #008000">// This will set the next index as an object {myTest: &#039;test&#039;}</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/myarray[]/myTest&quot;</span><span style="color: #000000">, </span><span style="color: #A31515">&#039;test&#039;</span><span style="color: #000000">, </span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>

</code></pre>
				<a href="#last-item-in-array" id="last-item-in-array" style="color: inherit; text-decoration: none;">
					<h4>Last Item in Array</h4>
				</a>
				<pre><code class="language-javascript"><span style="color: #008000">// Add basic array</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/lastItemArray&quot;</span><span style="color: #000000">, [</span><span style="color: #098658">1</span><span style="color: #000000">, </span><span style="color: #098658">2</span><span style="color: #000000">, </span><span style="color: #098658">3</span><span style="color: #000000">], </span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>

<span style="color: #008000">// You can easily get the last item of the array with the index -1</span>
<span style="color: #008000">// This will return 3</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">getData</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/lastItemArray[-1]&quot;</span><span style="color: #000000">);</span>


<span style="color: #008000">// You can delete the last item of an array with -1</span>
<span style="color: #008000">// This will remove the integer &quot;3&quot; from the array</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">delete</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/lastItemArray[-1]&quot;</span><span style="color: #000000">);</span>

<span style="color: #008000">// This will return 2 since 3 just got removed</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">getData</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/lastItemArray[-1]&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#count-for-array" id="count-for-array" style="color: inherit; text-decoration: none;">
					<h4>Count for Array</h4>
				</a>
				<pre><code class="language-javascript"><span style="color: #008000">//</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/list&quot;</span><span style="color: #000000">, [{</span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">65464646155</span><span style="color: #000000">, </span><span style="color: #001080">name:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;test&quot;</span><span style="color: #000000">}], </span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>

<span style="color: #008000">// You can have the number of element, in this case  = 1</span>
<span style="color: #0000FF">let</span><span style="color: #000000"> </span><span style="color: #001080">numberOfElement</span><span style="color: #000000"> = </span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">count</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/list&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#get-index-in-array" id="get-index-in-array" style="color: inherit; text-decoration: none;">
					<h4>Get Index in Array</h4>
				</a>
				<pre><code class="language-javascript">
<span style="color: #008000">// You can have the current index of an object</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">push</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/myarray&quot;</span><span style="color: #000000">, {</span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">65464646155</span><span style="color: #000000">, </span><span style="color: #001080">name:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;test&quot;</span><span style="color: #000000">}, </span><span style="color: #0000FF">true</span><span style="color: #000000">);</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">getIndex</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/myarray&quot;</span><span style="color: #000000">, </span><span style="color: #098658">65464646155</span><span style="color: #000000">);</span>
<span style="color: #008000">// By default, the property is &#039;id&#039;</span>
<span style="color: #008000">// You can add another property instead</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">getIndex</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/myarray&quot;</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;test&quot;</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;name&quot;</span><span style="color: #000000">);</span>

<span style="color: #008000">// It&#039;s useful if you want to delete some object</span>
<span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">delete</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/myarray[&quot;</span><span style="color: #000000"> + </span><span style="color: #001080">db</span><span style="color: #000000">.</span><span style="color: #795E26">getIndex</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;/arraytest/myarray&quot;</span><span style="color: #000000">, </span><span style="color: #098658">65464646155</span><span style="color: #000000">) + </span><span style="color: #A31515">&quot;]&quot;</span><span style="color: #000000">);</span>
</code></pre>
				<a href="#exceptionerror" id="exceptionerror" style="color: inherit; text-decoration: none;">
					<h3>Exception/Error</h3>
				</a>
				<a href="#type" id="type" style="color: inherit; text-decoration: none;">
					<h4>Type</h4>
				</a>
				<table>
					<thead>
						<tr>
							<th>Type</th>
							<th align="center">Explanation</th>
						</tr>
					</thead>
					<tbody><tr>
							<td>DataError</td>
							<td align="center">When the error is linked to the Data Given</td>
						</tr>
						<tr>
							<td>DatabaseError</td>
							<td align="center">Linked to a problem with the loading or saving of the Database.</td>
						</tr>
				</tbody></table>
				<a href="#errors" id="errors" style="color: inherit; text-decoration: none;">
					<h4>Errors</h4>
				</a>
				<table>
					<thead>
						<tr>
							<th>Error</th>
							<th align="center">Type</th>
							<th>Explanation</th>
						</tr>
					</thead>
					<tbody><tr>
							<td>The Data Path can&#39;t be empty</td>
							<td align="center">DataError</td>
							<td>The Database expect to minimum receive the root <strong>separator</strong> as DataPath.</td>
						</tr>
						<tr>
							<td>Can&#39;t find dataPath: /XXX. Stopped at YYY</td>
							<td align="center">DataError</td>
							<td>When the full hierarchy of the DataPath given is not present in the Database. It tells you until where it&#39;s valid. This error can happen when using <em>getData</em> and <em>delete</em></td>
						</tr>
						<tr>
							<td>Can&#39;t merge another type of data with an Array</td>
							<td align="center">DataError</td>
							<td>If you chose to not override the data (merging) when pushing and the new data is an array but the current data isn&#39;t an array (an Object by example).</td>
						</tr>
						<tr>
							<td>Can&#39;t merge an Array with an Object</td>
							<td align="center">DataError</td>
							<td>Same idea as the previous message. You have an array as current data and ask to merge it with an Object.</td>
						</tr>
						<tr>
							<td>DataPath: /XXX.  YYY is not an array.</td>
							<td align="center">DataError</td>
							<td>When trying to access an object as an array.</td>
						</tr>
						<tr>
							<td>DataPath: /XXX. Can&#39;t find index INDEX in array YYY</td>
							<td align="center">DataError</td>
							<td>When trying to access a non-existent index in the array.</td>
						</tr>
						<tr>
							<td>Only numerical values accepted for array index</td>
							<td align="center">DataError</td>
							<td>An array can only use number for its indexes. For this use the normal object.</td>
						</tr>
						<tr>
							<td>The entry at the path (/XXX) needs to be either an Object or an Array</td>
							<td align="center">DataError</td>
							<td>When using the find method, the rootPath need to point to an object or an array to search into it for the wanted value.</td>
						</tr>
						<tr>
							<td>Can&#39;t Load Database:  XXXX</td>
							<td align="center">DatabaseError</td>
							<td>JsonDB can&#39;t load the database for &quot;err&quot; reason. You can find the nested error in <strong>error.inner</strong></td>
						</tr>
						<tr>
							<td>Can&#39;t save the database: XXX</td>
							<td align="center">DatabaseError</td>
							<td>JsonDB can&#39;t save the database for &quot;err&quot; reason. You can find the nested error in <strong>error.inner</strong></td>
						</tr>
						<tr>
							<td>DataBase not loaded. Can&#39;t write</td>
							<td align="center">DatabaseError</td>
							<td>Since the database hasn&#39;t been loaded correctly, the module won&#39;t let you save the data to avoid erasing your database.</td>
						</tr>
				</tbody></table>
				<a href="#limitations" id="limitations" style="color: inherit; text-decoration: none;">
					<h1>Limitations</h1>
				</a>
				<a href="#object-with-separator-in-key" id="object-with-separator-in-key" style="color: inherit; text-decoration: none;">
					<h2>Object with <code>separator</code> in key</h2>
				</a>
				<p> Object pushed with key containing the <code>separator</code> character won&#39;t be reachable. See <a href="https://github.com/Belphemur/node-json-db/issues/75">#75</a>.</p>
				<p> Please consider the <code>separator</code> as a reserved character by node-json-db.</p>
				<a href="#thanks" id="thanks" style="color: inherit; text-decoration: none;">
					<h1>Thanks</h1>
				</a>
				<p><a href="https://github.com/davisjam">James Davis</a> for helping to fix a regular expression vulnerable to <a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/backtracking-in-regular-expressions">catastrophic backtracking</a>.</p>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p><a href="https://app.fossa.io/projects/git%2Bgithub.com%2FBelphemur%2Fnode-json-db?ref=badge_large"><img src="https://app.fossa.io/api/projects/git%2Bgithub.com%2FBelphemur%2Fnode-json-db.svg?type=large" alt="FOSSA Status"></a></p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/jsondb.html" class="tsd-kind-icon">JsonDB</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="modules.html#findcallback" class="tsd-kind-icon">Find<wbr>Callback</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>